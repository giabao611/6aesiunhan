<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Gi·ªè h√†ng</title>
<style>
body{font-family:Arial;background:#FFF4EC;margin:0}
h1{text-align:center;color:#E34A4A}
.cart{max-width:900px;margin:30px auto;background:#fff;padding:20px;border-radius:12px}
table{width:100%;border-collapse:collapse}
th,td{padding:12px;border-bottom:1px solid #ddd;text-align:center}
button{padding:6px 10px;border:none;border-radius:6px;cursor:pointer}
.btn-add{background:#6EC6C1}
.btn-sub{background:#FFD166}
.btn-del{background:#E34A4A;color:white}
.total{text-align:right;font-size:18px;font-weight:bold;margin-top:15px}
.back{display:block;margin-top:20px;text-align:center}
</style>
</head>

<body>

<h1>üß∫ Gi·ªè h√†ng c·ªßa b·∫°n</h1>

<div class="cart">
<table id="cartTable">
<tr>
<th>S·∫£n ph·∫©m</th>
<th>Gi√°</th>
<th>S·ªë l∆∞·ª£ng</th>
<th>T·∫°m t√≠nh</th>
<th>X√≥a</th>
</tr>
</table>

<div class="total" id="total"></div>

<!-- üîß S·ª¨A ·ªû ƒê√ÇY: ƒë·ªïi a th√†nh button -->
<button class="back" onclick="goOrder()">‚û°Ô∏è Ti·∫øn h√†nh ƒë·∫∑t h√†ng</button>
<a href="index.html" class="back">‚¨ÖÔ∏è Quay l·∫°i mua ti·∫øp</a>
</div>

<script>
let cart=JSON.parse(localStorage.getItem("cart"))||[];
const table=document.getElementById("cartTable");
const totalEl=document.getElementById("total");

function render(){
let sum=0;
table.innerHTML=`
<tr>
<th>S·∫£n ph·∫©m</th>
<th>Gi√°</th>
<th>S·ªë l∆∞·ª£ng</th>
<th>T·∫°m t√≠nh</th>
<th>X√≥a</th>
</tr>`;
cart.forEach((i,index)=>{
let row=table.insertRow();
row.innerHTML=`
<td>${i.name}</td>
<td>${i.price.toLocaleString()}ƒë</td>
<td>
<button class="btn-sub">-</button>
${i.qty}
<button class="btn-add">+</button>
</td>
<td>${(i.price*i.qty).toLocaleString()}ƒë</td>
<td><button class="btn-del">‚úñ</button></td>
`;

row.querySelector(".btn-add").onclick=()=>{i.qty++;save();}
row.querySelector(".btn-sub").onclick=()=>{if(i.qty>1)i.qty--;save();}
row.querySelector(".btn-del").onclick=()=>{cart.splice(index,1);save();}
sum+=i.price*i.qty;
});
totalEl.innerText="T·ªïng c·ªông: "+sum.toLocaleString()+"ƒë";
}

function save(){
localStorage.setItem("cart",JSON.stringify(cart));
render();
}

/* üîß TH√äM DUY NH·∫§T H√ÄM N√ÄY */
function goOrder(){
  // CH·ªà chuy·ªÉn trang, KH√îNG reset gi·ªè
  window.location.href = "order.html";
}

render();
</script>

</body>
</html>
